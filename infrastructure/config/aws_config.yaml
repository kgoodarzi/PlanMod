# PlanMod AWS Configuration
# ==========================
# This file contains your AWS credentials and deployment settings.
# Copy this file to aws_config.local.yaml and fill in your credentials.
# NEVER commit aws_config.local.yaml to version control!

aws:
  # AWS Region for deployment
  # Recommended: us-east-1 (best Bedrock model availability)
  region: us-east-1
  
  # Authentication Method (choose one):
  
  # Option 1: Use AWS CLI profile (recommended for development)
  profile: default
  
  # Option 2: Explicit credentials (use for CI/CD or when profile not available)
  # Uncomment and fill in if not using profile:
  # access_key_id: YOUR_AWS_ACCESS_KEY_ID
  # secret_access_key: YOUR_AWS_SECRET_ACCESS_KEY
  # session_token: YOUR_SESSION_TOKEN  # Optional, for temporary credentials

# Deployment Configuration
deployment:
  # Environment name (dev, staging, prod)
  environment: dev
  
  # Prefix for all AWS resource names
  stack_prefix: planmod
  
  # AWS Account ID (optional, will be auto-detected if not provided)
  # account_id: "123456789012"

# S3 Storage Configuration
storage:
  # Bucket name (will be prefixed with stack_prefix and suffixed with environment)
  # Final name: planmod-storage-dev
  bucket_name: storage
  
  # Days to retain temporary files before deletion
  temp_retention_days: 7
  
  # Days to retain output files
  output_retention_days: 30
  
  # Enable versioning for output files
  versioning_enabled: true

# Lambda Configuration
lambda:
  # Default memory allocation (MB)
  memory_mb: 1024
  
  # Default timeout (seconds) - max 900 for Lambda
  timeout_seconds: 300
  
  # Reserved concurrency (0 = no limit)
  reserved_concurrency: 0
  
  # Architecture: x86_64 or arm64
  architecture: x86_64

# DynamoDB Configuration
dynamodb:
  # Billing mode: PAY_PER_REQUEST or PROVISIONED
  billing_mode: PAY_PER_REQUEST
  
  # If using PROVISIONED, set capacity units:
  # read_capacity_units: 5
  # write_capacity_units: 5
  
  # Point-in-time recovery
  point_in_time_recovery: false

# AI/ML Services Configuration
ai:
  # Amazon Bedrock Configuration
  bedrock:
    # VLM model for image analysis
    vlm_model_id: anthropic.claude-3-5-sonnet-20241022-v2:0
    
    # LLM model for text processing
    llm_model_id: anthropic.claude-3-5-sonnet-20241022-v2:0
    
    # Region for Bedrock (may differ from main region)
    region: us-east-1
    
    # Max tokens for responses
    max_tokens: 4096
    
    # Temperature for generation (0.0 - 1.0)
    temperature: 0.3
  
  # Amazon Textract Configuration
  textract:
    # Features to enable for document analysis
    features:
      - TABLES
      - FORMS
    
    # Async processing for large documents
    async_processing: true

# API Gateway Configuration
api:
  # API type: REST or HTTP
  type: REST
  
  # Enable CORS
  cors_enabled: true
  
  # Allowed origins for CORS (use * for development only)
  cors_origins:
    - "http://localhost:3000"
    - "http://localhost:5173"
  
  # API throttling
  throttling:
    rate_limit: 100  # requests per second
    burst_limit: 200
  
  # Authentication type: NONE, API_KEY, or COGNITO
  auth_type: API_KEY

# Logging Configuration
logging:
  # Log level: DEBUG, INFO, WARNING, ERROR
  level: INFO
  
  # CloudWatch log retention (days)
  retention_days: 14
  
  # Enable X-Ray tracing
  xray_tracing: true

# Cost Management
cost:
  # Enable cost allocation tags
  tags:
    Project: PlanMod
    Environment: dev
    Owner: user
  
  # Budget alert threshold (USD)
  budget_alert_threshold: 50

# Local Development Settings
local:
  # Port for local API server
  api_port: 8000
  
  # Port for frontend dev server
  frontend_port: 5173
  
  # Enable debug mode
  debug: true
  
  # Use LocalStack for AWS emulation (optional)
  use_localstack: false
  localstack_endpoint: http://localhost:4566
